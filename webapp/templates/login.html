<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Login Form</title>
    <nav></nav>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      type="text/css"
      media="screen"
      href="loginstyle.css"
    />
    <script src="main.js"></script>
    <script
      src="https://kit.fontawesome.com/8ddfd30fc8.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container">
      <div class="form-box">
        <h1 id="title">Registration</h1>
        <form>
          <div class="input-group">
            <div class="input-field" id="nameField">
              <i class="fa-solid fa-user"></i>
              <input type="text" placeholder="Name" id="name" />
            </div>

            <div class="input-field">
              <i class="fa-solid fa-envelope"></i>
              <input type="email" placeholder="Email" id="email" />
            </div>

            <div class="input-field">
              <i class="fa-solid fa-lock"></i>
              <input type="password" placeholder="password" id="password" />
            </div>
          </div>
          <div class="btn-field">
            <button type="button" id="registerBtn">Register</button>
            <button type="button" id="loginBtn" class="disable">Login</button>
          </div>
        </form>
      </div>
    </div>
    <script>
      let registerBtn = document.getElementById("registerBtn");
      let loginBtn = document.getElementById("loginBtn");
      let nameField = document.getElementById("nameField");
      let title = document.getElementById("title");

      // Array to store registered users
      let registeredUsers = [];

      registerBtn.onclick = function () {
        let name = document.getElementById("name").value;
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;

        // Add the user details to the array
        registeredUsers.push({ name: name, email: email, password: password });

        // Reset the form fields
        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("password").value = "";

        // Display the login form
        nameField.style.maxHeight = "0";
        title.innerHTML = "Login";
        registerBtn.classList.add("disable");
        loginBtn.classList.remove("disable");
      };

      loginBtn.onclick = function () {
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;

        // Check if the entered email and password match with any of the registered users
        let user = registeredUsers.find(
          (u) => u.email === email && u.password === password
        );

        if (user) {
          alert("Logged in successfully!");
          // Reset the form fields
          document.getElementById("email").value = "";
          document.getElementById("password").value = "";
          window.location.href = "home.html";
        } else {
          alert("Invalid email or password!");
        }
      };
    </script>
  </body>
</html>
